{
    "name": "test[build execution-environment without ee  clear && ansible-navigator builder build --tag test_ee --container-runtime docker -v 3 --workdir /tests/fixtures/common/builder/test_ee --ee False --ll debug --mode stdout]",
    "index": 4,
    "comment": "build execution-environment without ee",
    "additional_information": {
        "present": [
            "Hello from EE",
            "The build context can be found at"
        ],
        "absent": [],
        "compared_fixture": false
    },
    "output": [
        "  Verifying        : cryptsetup-libs-2.3.7-1.el8.x86_64                    9/84",
        "  Verifying        : cryptsetup-libs-2.3.3-4.el8.x86_64                   10/84",
        "  Verifying        : device-mapper-8:1.02.181-3.el8.x86_64                11/84",
        "  Verifying        : device-mapper-8:1.02.181-2.el8.x86_64                12/84",
        "  Verifying        : device-mapper-libs-8:1.02.181-3.el8.x86_64           13/84",
        "  Verifying        : device-mapper-libs-8:1.02.181-2.el8.x86_64           14/84",
        "  Verifying        : dnf-4.7.0-7.el8.noarch                               15/84",
        "  Verifying        : dnf-4.7.0-5.el8.noarch                               16/84",
        "  Verifying        : dnf-data-4.7.0-7.el8.noarch                          17/84",
        "  Verifying        : dnf-data-4.7.0-5.el8.noarch                          18/84",
        "  Verifying        : dnf-plugins-core-4.0.21-10.el8.noarch                19/84",
        "  Verifying        : dnf-plugins-core-4.0.21-8.el8.noarch                 20/84",
        "  Verifying        : glibc-2.28-189.el8.x86_64                            21/84",
        "  Verifying        : glibc-2.28-184.el8.x86_64                            22/84",
        "  Verifying        : glibc-common-2.28-189.el8.x86_64                     23/84",
        "  Verifying        : glibc-common-2.28-184.el8.x86_64                     24/84",
        "  Verifying        : glibc-langpack-en-2.28-189.el8.x86_64                25/84",
        "  Verifying        : glibc-langpack-en-2.28-184.el8.x86_64                26/84",
        "  Verifying        : glibc-minimal-langpack-2.28-189.el8.x86_64           27/84",
        "  Verifying        : glibc-minimal-langpack-2.28-184.el8.x86_64           28/84",
        "  Verifying        : info-6.5-7.el8_5.x86_64                              29/84",
        "  Verifying        : info-6.5-6.el8.x86_64                                30/84",
        "  Verifying        : libarchive-3.3.3-3.el8_5.x86_64                      31/84",
        "  Verifying        : libarchive-3.3.3-1.el8.x86_64                        32/84",
        "  Verifying        : libblkid-2.32.1-32.el8.x86_64                        33/84",
        "  Verifying        : libblkid-2.32.1-28.el8.x86_64                        34/84",
        "  Verifying        : libcap-2.48-2.el8.x86_64                             35/84",
        "  Verifying        : libcap-2.26-5.el8.x86_64                             36/84",
        "  Verifying        : libcom_err-1.45.6-3.el8.x86_64                       37/84",
        "  Verifying        : libcom_err-1.45.6-2.el8.x86_64                       38/84",
        "  Verifying        : libdnf-0.63.0-7.el8.x86_64                           39/84",
        "  Verifying        : libdnf-0.63.0-5.el8.x86_64                           40/84",
        "  Verifying        : libfdisk-2.32.1-32.el8.x86_64                        41/84",
        "  Verifying        : libfdisk-2.32.1-28.el8.x86_64                        42/84",
        "  Verifying        : libgcc-8.5.0-10.el8.x86_64                           43/84",
        "  Verifying        : libgcc-8.5.0-7.el8.x86_64                            44/84",
        "  Verifying        : libmount-2.32.1-32.el8.x86_64                        45/84",
        "  Verifying        : libmount-2.32.1-28.el8.x86_64                        46/84",
        "  Verifying        : libsmartcols-2.32.1-32.el8.x86_64                    47/84",
        "  Verifying        : libsmartcols-2.32.1-28.el8.x86_64                    48/84",
        "  Verifying        : libstdc++-8.5.0-10.el8.x86_64                        49/84",
        "  Verifying        : libstdc++-8.5.0-7.el8.x86_64                         50/84",
        "  Verifying        : libuuid-2.32.1-32.el8.x86_64                         51/84",
        "  Verifying        : libuuid-2.32.1-28.el8.x86_64                         52/84",
        "  Verifying        : pam-1.3.1-16.el8.x86_64                              53/84",
        "  Verifying        : pam-1.3.1-15.el8.x86_64                              54/84",
        "  Verifying        : python3-cloud-what-1.28.25-1.el8.x86_64              55/84",
        "  Verifying        : python3-cloud-what-1.28.24-1.el8.x86_64              56/84",
        "  Verifying        : python3-dnf-4.7.0-7.el8.noarch                       57/84",
        "  Verifying        : python3-dnf-4.7.0-5.el8.noarch                       58/84",
        "  Verifying        : python3-dnf-plugins-core-4.0.21-10.el8.noarch        59/84",
        "  Verifying        : python3-dnf-plugins-core-4.0.21-8.el8.noarch         60/84",
        "  Verifying        : python3-ethtool-0.14-4.el8.x86_64                    61/84",
        "  Verifying        : python3-ethtool-0.14-3.el8.x86_64                    62/84",
        "  Verifying        : python3-hawkey-0.63.0-7.el8.x86_64                   63/84",
        "  Verifying        : python3-hawkey-0.63.0-5.el8.x86_64                   64/84",
        "  Verifying        : python3-libdnf-0.63.0-7.el8.x86_64                   65/84",
        "  Verifying        : python3-libdnf-0.63.0-5.el8.x86_64                   66/84",
        "  Verifying        : python3-subscription-manager-rhsm-1.28.25-1.el8.x8   67/84",
        "  Verifying        : python3-subscription-manager-rhsm-1.28.24-1.el8.x8   68/84",
        "  Verifying        : python3-syspurpose-1.28.25-1.el8.x86_64              69/84",
        "  Verifying        : python3-syspurpose-1.28.24-1.el8.x86_64              70/84",
        "  Verifying        : subscription-manager-rhsm-certificates-1.28.25-1.e   71/84",
        "  Verifying        : subscription-manager-rhsm-certificates-1.28.24-1.e   72/84",
        "  Verifying        : systemd-239-56.el8.x86_64                            73/84",
        "  Verifying        : systemd-239-55.el8.x86_64                            74/84",
        "  Verifying        : systemd-libs-239-56.el8.x86_64                       75/84",
        "  Verifying        : systemd-libs-239-55.el8.x86_64                       76/84",
        "  Verifying        : systemd-pam-239-56.el8.x86_64                        77/84",
        "  Verifying        : systemd-pam-239-55.el8.x86_64                        78/84",
        "  Verifying        : util-linux-2.32.1-32.el8.x86_64                      79/84",
        "  Verifying        : util-linux-2.32.1-28.el8.x86_64                      80/84",
        "  Verifying        : vim-minimal-2:8.0.1763-16.el8_5.7.x86_64             81/84",
        "  Verifying        : vim-minimal-2:8.0.1763-16.el8_5.3.x86_64             82/84",
        "  Verifying        : yum-4.7.0-7.el8.noarch                               83/84",
        "  Verifying        : yum-4.7.0-5.el8.noarch                               84/84",
        "Upgraded:",
        "  audit-libs-3.0.7-1.el8.x86_64",
        "  cryptsetup-libs-2.3.7-1.el8.x86_64",
        "  device-mapper-8:1.02.181-3.el8.x86_64",
        "  device-mapper-libs-8:1.02.181-3.el8.x86_64",
        "  dnf-4.7.0-7.el8.noarch",
        "  dnf-data-4.7.0-7.el8.noarch",
        "  dnf-plugins-core-4.0.21-10.el8.noarch",
        "  glibc-2.28-189.el8.x86_64",
        "  glibc-common-2.28-189.el8.x86_64",
        "  glibc-gconv-extra-2.28-189.el8.x86_64",
        "  glibc-langpack-en-2.28-189.el8.x86_64",
        "  glibc-minimal-langpack-2.28-189.el8.x86_64",
        "  info-6.5-7.el8_5.x86_64",
        "  libarchive-3.3.3-3.el8_5.x86_64",
        "  libblkid-2.32.1-32.el8.x86_64",
        "  libcap-2.48-2.el8.x86_64",
        "  libcom_err-1.45.6-3.el8.x86_64",
        "  libdnf-0.63.0-7.el8.x86_64",
        "  libfdisk-2.32.1-32.el8.x86_64",
        "  libgcc-8.5.0-10.el8.x86_64",
        "  libmount-2.32.1-32.el8.x86_64",
        "  libsmartcols-2.32.1-32.el8.x86_64",
        "  libstdc++-8.5.0-10.el8.x86_64",
        "  libuuid-2.32.1-32.el8.x86_64",
        "  pam-1.3.1-16.el8.x86_64",
        "  python3-cloud-what-1.28.25-1.el8.x86_64",
        "  python3-dnf-4.7.0-7.el8.noarch",
        "  python3-dnf-plugins-core-4.0.21-10.el8.noarch",
        "  python3-ethtool-0.14-4.el8.x86_64",
        "  python3-hawkey-0.63.0-7.el8.x86_64",
        "  python3-libdnf-0.63.0-7.el8.x86_64",
        "  python3-subscription-manager-rhsm-1.28.25-1.el8.x86_64",
        "  python3-syspurpose-1.28.25-1.el8.x86_64",
        "  python38-pip-19.3.1-5.module_el8.6.0+960+f11a9b17.noarch",
        "  python38-pip-wheel-19.3.1-5.module_el8.6.0+960+f11a9b17.noarch",
        "  subscription-manager-rhsm-certificates-1.28.25-1.el8.x86_64",
        "  systemd-239-56.el8.x86_64",
        "  systemd-libs-239-56.el8.x86_64",
        "  systemd-pam-239-56.el8.x86_64",
        "  util-linux-2.32.1-32.el8.x86_64",
        "  vim-minimal-2:8.0.1763-16.el8_5.7.x86_64",
        "  yum-4.7.0-7.el8.noarch",
        "Complete!",
        "+ PACKAGES=",
        "+ PIP_OPTS=",
        "+ install_bindep",
        "+ '[' -f bindep.txt ']'",
        "+ bindep -l newline",
        "+ sort",
        "+ '[' centos == centos ']'",
        "+ bindep -l newline -b epel",
        "+ sort",
        "+ grep -Fxvf /output/bindep/run.txt /output/bindep/stage.txt",
        "+ true",
        "+ rm -rf /output/bindep/stage.txt",
        "++ bindep -b compile",
        "+ compile_packages=",
        "+ '[' '!' -z '' ']'",
        "+ python3 -m venv /tmp/venv --system-site-packages --without-pip",
        "+ source /tmp/venv/bin/activate",
        "++ deactivate nondestructive",
        "++ '[' -n '' ']'",
        "++ '[' -n '' ']'",
        "++ '[' -n /bin/bash -o -n '' ']'",
        "++ hash -r",
        "++ '[' -n '' ']'",
        "++ unset VIRTUAL_ENV",
        "++ '[' '!' nondestructive = nondestructive ']'",
        "++ VIRTUAL_ENV=/tmp/venv",
        "++ export VIRTUAL_ENV",
        "++ _OLD_VIRTUAL_PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
        "++ PATH=/tmp/venv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
        "++ export PATH",
        "++ '[' -n '' ']'",
        "++ '[' -z '' ']'",
        "++ _OLD_VIRTUAL_PS1=",
        "++ '[' 'x(venv) ' '!=' x ']'",
        "++ PS1='(venv) '",
        "++ export PS1",
        "++ '[' -n /bin/bash -o -n '' ']'",
        "++ hash -r",
        "+ '[' -f /tmp/src/upper-constraints.txt ']'",
        "+ [[ -n '' ]]",
        "+ install_wheels",
        "+ '[' -f /tmp/src/build-requirements.txt ']'",
        "+ '[' -f setup.py ']'",
        "+ '[' -f /tmp/src/requirements.txt ']'",
        "+ '[' '!' -f /output/requirements.txt ']'",
        "+ pip3 install --cache-dir=/output/wheels -r /tmp/src/requirements.txt",
        "Collecting jsonschema==3.2.0",
        "  Downloading jsonschema-3.2.0-py2.py3-none-any.whl (56 kB)",
        "Collecting textfsm",
        "  Downloading textfsm-1.1.2-py2.py3-none-any.whl (44 kB)",
        "Collecting ttp",
        "  Downloading ttp-0.8.4.tar.gz (67 kB)",
        "  Preparing metadata (setup.py): started",
        "  Preparing metadata (setup.py): finished with status 'done'",
        "Collecting xmltodict",
        "  Downloading xmltodict-0.12.0-py2.py3-none-any.whl (9.2 kB)",
        "Collecting netaddr",
        "  Downloading netaddr-0.8.0-py2.py3-none-any.whl (1.9 MB)",
        "Collecting attrs>=17.4.0",
        "  Downloading attrs-21.4.0-py2.py3-none-any.whl (60 kB)",
        "Requirement already satisfied: setuptools in /usr/lib/python3.8/site-packages (from jsonschema==3.2.0->-r /tmp/src/requirements.txt (line 1)) (41.6.0)",
        "Collecting six>=1.11.0",
        "  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)",
        "Collecting pyrsistent>=0.14.0",
        "  Downloading pyrsistent-0.18.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (119 kB)",
        "Collecting future",
        "  Downloading future-0.18.2.tar.gz (829 kB)",
        "  Preparing metadata (setup.py): started",
        "  Preparing metadata (setup.py): finished with status 'done'",
        "Building wheels for collected packages: ttp, future",
        "  Building wheel for ttp (setup.py): started",
        "  Building wheel for ttp (setup.py): finished with status 'done'",
        "  Created wheel for ttp: filename=ttp-0.8.4-py2.py3-none-any.whl size=86633 sha256=1163a26b64bd5191432965373fd8883f8f57e9b7a698a22894c7f1e423a8f2bc",
        "  Stored in directory: /output/wheels/wheels/59/bc/5c/a0a3207785f5e0daa396a7f343a076457591c53678cb512ab6",
        "  Building wheel for future (setup.py): started",
        "  Building wheel for future (setup.py): finished with status 'done'",
        "  Created wheel for future: filename=future-0.18.2-py3-none-any.whl size=491056 sha256=d063640b03938142fe6bea65e60579b0ce0d58fdf757df5448365b4f9b845314",
        "  Stored in directory: /output/wheels/wheels/8e/70/28/3d6ccd6e315f65f245da085482a2e1c7d14b90b30f239e2cf4",
        "Successfully built ttp future",
        "Installing collected packages: six, pyrsistent, future, attrs, xmltodict, ttp, textfsm, netaddr, jsonschema",
        "Successfully installed attrs-21.4.0 future-0.18.2 jsonschema-3.2.0 netaddr-0.8.0 pyrsistent-0.18.1 six-1.16.0 textfsm-1.1.2 ttp-0.8.4 xmltodict-0.12.0",
        "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "WARNING: You are using pip version 21.3.1; however, version 22.0.3 is available.",
        "You should consider upgrading via the '/usr/bin/python3 -m pip install --upgrade pip' command.",
        "+ cp /tmp/src/requirements.txt /output/requirements.txt",
        "++ wc -l",
        "++ ls -1 '/output/wheels/*whl'",
        "+ '[' 0 -gt 0 ']'",
        "++ get-extras-packages",
        "+ /usr/bin/dnf clean all",
        "38 files removed",
        "+ rm -rf /var/cache/dnf /var/cache/yum",
        "+ rm -rf /var/lib/dnf/history.sqlite /var/lib/dnf/history.sqlite-shm /var/lib/dnf/history.sqlite-wal",
        "+ rm -rf /var/log/dnf.librepo.log /var/log/dnf.log /var/log/dnf.rpm.log /var/log/hawkey.log",
        "+ rm -rf /tmp/venv",
        "Removing intermediate container 03aa98b3f0e6",
        " ---> b9fd2009f1a5",
        "Step 14/19 : FROM $EE_BASE_IMAGE",
        " ---> e10f8e0c5281",
        "Step 15/19 : USER root",
        " ---> Running in dd446316c2de",
        "Removing intermediate container dd446316c2de",
        " ---> 98b30e11615e",
        "Step 16/19 : COPY --from=galaxy /usr/share/ansible /usr/share/ansible",
        " ---> 26a9ca947e0b",
        "Step 17/19 : COPY --from=builder /output/ /output/",
        " ---> 10589ff7bcaa",
        "Step 18/19 : RUN /output/install-from-bindep && rm -rf /output/wheels",
        " ---> Running in 0f7c95e10173",
        "+ PKGMGR=",
        "+ PKGMGR_OPTS=",
        "+ '[' -z ']'",
        "+ PKGMGR=/usr/bin/dnf",
        "+ '[' -f /usr/bin/microdnf ']'",
        "+ /usr/bin/dnf update -y",
        "CentOS Stream 8 - AppStream                     5.1 MB/s |  19 MB     00:03",
        "CentOS Stream 8 - BaseOS                        5.0 MB/s |  19 MB     00:03",
        "CentOS Stream 8 - Extras                         28 kB/s |  18 kB     00:00",
        "CentOS Stream 8 - PowerTools                    2.2 MB/s | 4.0 MB     00:01",
        "Extra Packages for Enterprise Linux Modular 8 - 604 kB/s | 979 kB     00:01",
        "Last metadata expiration check: 0:00:01 ago on Fri Feb 11 12:21:53 2022.",
        "Dependencies resolved.",
        "Nothing to do.",
        "Complete!",
        "+ '[' -f /output/bindep/run.txt ']'",
        "++ cat /output/bindep/run.txt",
        "+ PACKAGES=",
        "+ '[' '!' -z '' ']'",
        "+ '[' -f /output/bindep/epel.txt ']'",
        "++ cat /output/bindep/epel.txt",
        "+ EPEL_PACKAGES=",
        "+ '[' '!' -z '' ']'",
        "+ '[' -f /output/upper-constraints.txt ']'",
        "+ '[' -f /output/requirements.txt ']'",
        "+ pip3 install --cache-dir=/output/wheels -r /output/requirements.txt",
        "Collecting jsonschema==3.2.0",
        "  Using cached jsonschema-3.2.0-py2.py3-none-any.whl (56 kB)",
        "Collecting textfsm",
        "  Using cached textfsm-1.1.2-py2.py3-none-any.whl (44 kB)",
        "Collecting ttp",
        "  Using cached ttp-0.8.4-py2.py3-none-any.whl",
        "Requirement already satisfied: xmltodict in /usr/local/lib/python3.8/site-packages (from -r /output/requirements.txt (line 4)) (0.12.0)",
        "Collecting netaddr",
        "  Using cached netaddr-0.8.0-py2.py3-none-any.whl (1.9 MB)",
        "Collecting pyrsistent>=0.14.0",
        "  Using cached pyrsistent-0.18.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (119 kB)",
        "Collecting attrs>=17.4.0",
        "  Using cached attrs-21.4.0-py2.py3-none-any.whl (60 kB)",
        "Requirement already satisfied: six>=1.11.0 in /usr/lib/python3.8/site-packages (from jsonschema==3.2.0->-r /output/requirements.txt (line 1)) (1.12.0)",
        "Requirement already satisfied: setuptools in /usr/lib/python3.8/site-packages (from jsonschema==3.2.0->-r /output/requirements.txt (line 1)) (41.6.0)",
        "Collecting future",
        "  Using cached future-0.18.2-py3-none-any.whl",
        "Installing collected packages: ttp, netaddr, pyrsistent, future, attrs, textfsm, jsonschema",
        "Successfully installed attrs-21.4.0 future-0.18.2 jsonschema-3.2.0 netaddr-0.8.0 pyrsistent-0.18.1 textfsm-1.1.2 ttp-0.8.4",
        "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "+ EXTRAS=",
        "+ '[' -f /output/packages.txt ']'",
        "++ ls -1 '/output/wheels/*whl'",
        "++ wc -l",
        "+ '[' 0 -gt 0 ']'",
        "+ '[' '!' -z '' ']'",
        "+ /usr/bin/dnf clean all",
        "38 files removed",
        "+ rm -rf /var/cache/dnf /var/cache/yum",
        "+ rm -rf /var/lib/dnf/history.sqlite /var/lib/dnf/history.sqlite-shm /var/lib/dnf/history.sqlite-wal",
        "+ rm -rf /var/log/dnf.librepo.log /var/log/dnf.log /var/log/dnf.rpm.log /var/log/hawkey.log",
        "Removing intermediate container 0f7c95e10173",
        " ---> 36474915a22e",
        "Step 19/19 : RUN echo \"Hello from EE\"",
        " ---> Running in 545828999fb1",
        "Hello from EE",
        "Removing intermediate container 545828999fb1",
        " ---> d371b0950769",
        "Successfully built d371b0950769",
        "Successfully tagged test_ee:latest",
        "Complete! The build context can be found at: /home/user/github/ansible-navigator/tests/fixtures/common/builder/test_ee/context",
        "(venv) bash-5.1$"
    ]
}
