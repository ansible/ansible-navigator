{
    "name": "test[24-:0-Browse ansible.builtin.add_host module]",
    "index": 24,
    "comment": "Browse ansible.builtin.add_host module",
    "additional_information": {
        "present": [
            "ANSIBLE.BUILTIN.ADD_HOST"
        ],
        "absent": [],
        "compared_fixture": false
    },
    "output": [
        "ANSIBLE.BUILTIN.ADD_HOST: Add a host (and alternatively a group) to the ansible-playbook in-memory inventory",
        " 0│---",
        " 1│additional_information: {}",
        " 2│collection_info:",
        " 3│  name: ansible.builtin",
        " 4│  path: /usr/local/lib/python3.8/site-packages/ansible",
        " 5│  shadowed_by: []",
        " 6│  version: 2.11.6.post0",
        " 7│doc:",
        " 8│  author:",
        " 9│  - Ansible Core Team",
        "10│  - Seth Vidal (@skvidal)",
        "11│  description:",
        "12│  - Use variables to create new hosts and groups in inventory for use in later plays",
        "13│    of the same playbook.",
        "14│  - Takes variables so you can define the new hosts more fully.",
        "15│  - This module is also supported for Windows targets.",
        "16│  module: add_host",
        "17│  notes:",
        "18│  - This module bypasses the play host loop and only runs once for all the hosts in",
        "19│    the play, if you need it to iterate use a C(loop) construct. If you need to dynamically",
        "20│    add all hosts targeted by a playbook for later use, the C(group_by) module is",
        "21│    potentially a better choice.",
        "22│  - The alias C(host) of the parameter C(name) is only available on Ansible 2.4 and",
        "23│    newer.",
        "24│  - Since Ansible 2.4, the C(inventory_dir) variable is now set to C(None) instead",
        "25│    of the 'global inventory source', because you can now have multiple sources.  An",
        "26│    example was added that shows how to partially restore the previous behaviour.",
        "27│  - Windows targets are supported by this module.",
        "28│  - Though this module does not change the remote host, we do provide 'changed' status",
        "29│    as it can be useful for those trying to track inventory changes.",
        "30│  options:",
        "31│    groups:",
        "32│      aliases:",
        "33│      - group",
        "34│      - groupname",
        "35│      description:",
        "36│      - The groups to add the hostname to.",
        "37│      type: list",
        "38│    name:",
        "39│      aliases:",
        "40│      - host",
        "41│      - hostname",
        "42│      description:",
        "43│      - The hostname/ip of the host to add to the inventory, can include a colon and",
        "44│        a port number.",
        "45│      required: true",
        "46│      type: str",
        "47│  seealso:",
        "48│  - module: ansible.builtin.group_by",
        "49│  short_description: Add a host (and alternatively a group) to the ansible-playbook",
        "50│    in-memory inventory",
        "51│  version_added: '0.9'",
        "52│  version_added_collection: ansible.builtin",
        "53│examples: |-",
        "54│  - name: Add host to group 'just_created' with variable foo=42",
        "55│    add_host:",
        "56│      name: '{{ ip_from_ec2 }}'",
        "57│      groups: just_created",
        "58│      foo: 42",
        "59│",
        "60│  - name: Add host to multiple groups",
        "61│    add_host:",
        "62│      hostname: '{{ new_ip }}'",
        "63│      groups:",
        "64│      - group1",
        "65│      - group2",
        "66│",
        "67│  - name: Add a host with a non-standard port local to your machines",
        "68│    add_host:",
        "69│      name: '{{ new_ip }}:{{ new_port }}'",
        "70│",
        "71│  - name: Add a host alias that we reach through a tunnel (Ansible 1.9 and older)",
        "72│    add_host:",
        "73│      hostname: '{{ new_ip }}'",
        "74│      ansible_ssh_host: '{{ inventory_hostname }}'",
        "75│      ansible_ssh_port: '{{ new_port }}'",
        "76│",
        "77│  - name: Add a host alias that we reach through a tunnel (Ansible 2.0 and newer)",
        "78│    add_host:",
        "79│      hostname: '{{ new_ip }}'",
        "80│      ansible_host: '{{ inventory_hostname }}'",
        "81│      ansible_port: '{{ new_port }}'",
        "82│",
        "83│  - name: Ensure inventory vars are set to the same value as the inventory_hostname has (close to pre Ansible 2.4 behaviour)",
        "84│    add_host:",
        "85│      hostname: charlie",
        "86│      inventory_dir: '{{ inventory_dir }}'",
        "87│",
        "88│  - name: Add all hosts running this playbook to the done group",
        "89│    add_host:",
        "90│      name: '{{ item }}'",
        "91│      groups: done",
        "92│    loop: \"{{ ansible_play_hosts }}\"",
        "93│full_name: ansible.builtin.add_host",
        "94│metadata: null",
        "95│returndocs: null",
        "^f/PgUp page up              ^b/PgDn page down              ↑↓ scroll              esc back              - previous              + next              [0-9] goto              :help help"
    ]
}
