Added automatic mode selection based on subcommand and settings in use.

-- by {user}`cidrblock`
